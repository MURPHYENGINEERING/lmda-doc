\hypertarget{plugin_8c}{}\doxysection{src/platform/common/plugin.c File Reference}
\label{plugin_8c}\index{src/platform/common/plugin.c@{src/platform/common/plugin.c}}


Platform-\/independent plugin loading operations.  


{\ttfamily \#include $<$lmda/log.\+h$>$}\newline
{\ttfamily \#include $<$lmda/plugin.\+h$>$}\newline
Include dependency graph for plugin.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{plugin_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{plugin_8c_a0b9cabe945a75de730e279b1647afd3d}{hot\+Reload\+Banner}} ()
\item 
void \mbox{\hyperlink{plugin_8c_ae576c2ca7fed4561bdfa4054a5441ed8}{lm\+\_\+plugin\+\_\+init}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin, \mbox{\hyperlink{struct_context}{Context}} $\ast$ctx, char const $\ast$path)
\item 
bool \mbox{\hyperlink{plugin_8c_a38924f76ed4b53b466aa2380da06d938}{lm\+\_\+plugin\+\_\+bind}} (void $\ast$$\ast$fn, \mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin, char const $\ast$name)
\begin{DoxyCompactList}\small\item\em Attempt to bind the given function to one in the given plugin that goes by by the given name. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{plugin_8c_ad72f0ae0d5fd3bb9580aa302ddc65651}{cache\+\_\+lib\+\_\+and\+\_\+close}} (char const $\ast$src\+Path, FILE $\ast$dst)
\item 
bool \mbox{\hyperlink{plugin_8c_a7e7c62ceb3f8e38aa13e73a39aca210e}{load\+\_\+plugin}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin)
\item 
bool \mbox{\hyperlink{plugin_8c_a5880f04de59e901ea258921703cc5685}{needs\+\_\+reload}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin)
\item 
bool \mbox{\hyperlink{plugin_8c_aae848be86b6e8eff637196cbca74daf7}{prepare\+\_\+library\+\_\+file\+\_\+for\+\_\+load}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin)
\item 
bool \mbox{\hyperlink{plugin_8c_a56574d23dfab31146b315097ff545bb1}{init\+\_\+plugin\+\_\+state\+\_\+after\+\_\+load}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin)
\item 
bool \mbox{\hyperlink{plugin_8c_ad046b76f8f6dc4b54fa153761b820717}{lm\+\_\+plugin\+\_\+ensure\+\_\+ready}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin, \mbox{\hyperlink{struct_context}{Context}} $\ast$ctx)
\begin{DoxyCompactList}\small\item\em Attempt to load a plugin by the given name from the library at the given path. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{plugin_8c_a5920818e59eaa10bac29bc8c3d380f3a}{lm\+\_\+plugin\+\_\+unload}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin)
\begin{DoxyCompactList}\small\item\em Attempt to unload the given plugin\textquotesingle{}s code libary. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{plugin_8c_af2bf8fa570687fa4d2118e53cd273dd3}{lm\+\_\+plugin\+\_\+destroy}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin)
\begin{DoxyCompactList}\small\item\em Destroy the plugin\textquotesingle{}s state and unload it for the last time. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Platform-\/independent plugin loading operations. 

\begin{DoxyAuthor}{Author}
Matt Murphy (\href{mailto:matt@murphysys.com}{\texttt{ matt@murphysys.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2022-\/06-\/06
\end{DoxyDate}
Copyright (c) 2022 Murphy Engineering LLC 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{plugin_8c_ad72f0ae0d5fd3bb9580aa302ddc65651}\label{plugin_8c_ad72f0ae0d5fd3bb9580aa302ddc65651}} 
\index{plugin.c@{plugin.c}!cache\_lib\_and\_close@{cache\_lib\_and\_close}}
\index{cache\_lib\_and\_close@{cache\_lib\_and\_close}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{cache\_lib\_and\_close()}{cache\_lib\_and\_close()}}
{\footnotesize\ttfamily bool cache\+\_\+lib\+\_\+and\+\_\+close (\begin{DoxyParamCaption}\item[{char const $\ast$}]{src\+Path,  }\item[{FILE $\ast$}]{dst }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8c_a0b9cabe945a75de730e279b1647afd3d}\label{plugin_8c_a0b9cabe945a75de730e279b1647afd3d}} 
\index{plugin.c@{plugin.c}!hotReloadBanner@{hotReloadBanner}}
\index{hotReloadBanner@{hotReloadBanner}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{hotReloadBanner()}{hotReloadBanner()}}
{\footnotesize\ttfamily void hot\+Reload\+Banner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8c_a56574d23dfab31146b315097ff545bb1}\label{plugin_8c_a56574d23dfab31146b315097ff545bb1}} 
\index{plugin.c@{plugin.c}!init\_plugin\_state\_after\_load@{init\_plugin\_state\_after\_load}}
\index{init\_plugin\_state\_after\_load@{init\_plugin\_state\_after\_load}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{init\_plugin\_state\_after\_load()}{init\_plugin\_state\_after\_load()}}
{\footnotesize\ttfamily bool init\+\_\+plugin\+\_\+state\+\_\+after\+\_\+load (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8c_a38924f76ed4b53b466aa2380da06d938}\label{plugin_8c_a38924f76ed4b53b466aa2380da06d938}} 
\index{plugin.c@{plugin.c}!lm\_plugin\_bind@{lm\_plugin\_bind}}
\index{lm\_plugin\_bind@{lm\_plugin\_bind}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_bind()}{lm\_plugin\_bind()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+bind (\begin{DoxyParamCaption}\item[{void $\ast$$\ast$}]{fn,  }\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin,  }\item[{char const $\ast$}]{name }\end{DoxyParamCaption})}



Attempt to bind the given function to one in the given plugin that goes by by the given name. 

If the result is {\ttfamily true}, then calling the given function will execute the bound function in the plugin library. \mbox{\Hypertarget{plugin_8c_af2bf8fa570687fa4d2118e53cd273dd3}\label{plugin_8c_af2bf8fa570687fa4d2118e53cd273dd3}} 
\index{plugin.c@{plugin.c}!lm\_plugin\_destroy@{lm\_plugin\_destroy}}
\index{lm\_plugin\_destroy@{lm\_plugin\_destroy}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_destroy()}{lm\_plugin\_destroy()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin }\end{DoxyParamCaption})}



Destroy the plugin\textquotesingle{}s state and unload it for the last time. 

\mbox{\Hypertarget{plugin_8c_ad046b76f8f6dc4b54fa153761b820717}\label{plugin_8c_ad046b76f8f6dc4b54fa153761b820717}} 
\index{plugin.c@{plugin.c}!lm\_plugin\_ensure\_ready@{lm\_plugin\_ensure\_ready}}
\index{lm\_plugin\_ensure\_ready@{lm\_plugin\_ensure\_ready}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_ensure\_ready()}{lm\_plugin\_ensure\_ready()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+ensure\+\_\+ready (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin,  }\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}



Attempt to load a plugin by the given name from the library at the given path. 

If the plugin is loaded successfully then its {\ttfamily initialized} flag will be set. \mbox{\Hypertarget{plugin_8c_ae576c2ca7fed4561bdfa4054a5441ed8}\label{plugin_8c_ae576c2ca7fed4561bdfa4054a5441ed8}} 
\index{plugin.c@{plugin.c}!lm\_plugin\_init@{lm\_plugin\_init}}
\index{lm\_plugin\_init@{lm\_plugin\_init}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_init()}{lm\_plugin\_init()}}
{\footnotesize\ttfamily void lm\+\_\+plugin\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin,  }\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx,  }\item[{char const $\ast$}]{path }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8c_a5920818e59eaa10bac29bc8c3d380f3a}\label{plugin_8c_a5920818e59eaa10bac29bc8c3d380f3a}} 
\index{plugin.c@{plugin.c}!lm\_plugin\_unload@{lm\_plugin\_unload}}
\index{lm\_plugin\_unload@{lm\_plugin\_unload}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_unload()}{lm\_plugin\_unload()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+unload (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin }\end{DoxyParamCaption})}



Attempt to unload the given plugin\textquotesingle{}s code libary. 

The plugin is considered unloaded regardless of whether its memory is successfully freed. The plugin state is not affected. \mbox{\Hypertarget{plugin_8c_a7e7c62ceb3f8e38aa13e73a39aca210e}\label{plugin_8c_a7e7c62ceb3f8e38aa13e73a39aca210e}} 
\index{plugin.c@{plugin.c}!load\_plugin@{load\_plugin}}
\index{load\_plugin@{load\_plugin}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{load\_plugin()}{load\_plugin()}}
{\footnotesize\ttfamily bool load\+\_\+plugin (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8c_a5880f04de59e901ea258921703cc5685}\label{plugin_8c_a5880f04de59e901ea258921703cc5685}} 
\index{plugin.c@{plugin.c}!needs\_reload@{needs\_reload}}
\index{needs\_reload@{needs\_reload}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{needs\_reload()}{needs\_reload()}}
{\footnotesize\ttfamily bool needs\+\_\+reload (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8c_aae848be86b6e8eff637196cbca74daf7}\label{plugin_8c_aae848be86b6e8eff637196cbca74daf7}} 
\index{plugin.c@{plugin.c}!prepare\_library\_file\_for\_load@{prepare\_library\_file\_for\_load}}
\index{prepare\_library\_file\_for\_load@{prepare\_library\_file\_for\_load}!plugin.c@{plugin.c}}
\doxysubsubsection{\texorpdfstring{prepare\_library\_file\_for\_load()}{prepare\_library\_file\_for\_load()}}
{\footnotesize\ttfamily bool prepare\+\_\+library\+\_\+file\+\_\+for\+\_\+load (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin }\end{DoxyParamCaption})}

