\hypertarget{plugin_8h}{}\doxysection{src/include/lmda/plugin.h File Reference}
\label{plugin_8h}\index{src/include/lmda/plugin.h@{src/include/lmda/plugin.h}}


Declares the interface to the game library; implementing that interface defines a game plugin.  


{\ttfamily \#include $<$lmda/fs.\+h$>$}\newline
{\ttfamily \#include $<$lmda/game.\+h$>$}\newline
{\ttfamily \#include $<$lmda/input.\+h$>$}\newline
{\ttfamily \#include $<$lmda/log.\+h$>$}\newline
{\ttfamily \#include $<$lmda/sdl.\+h$>$}\newline
{\ttfamily \#include $<$lmda/timing.\+h$>$}\newline
Include dependency graph for plugin.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{plugin_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{plugin_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_host_context}{Host\+Context}}
\begin{DoxyCompactList}\small\item\em Provides the plugin with an interface to the host for platform and application-\/level operations. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_game_context}{Game\+Context}}
\begin{DoxyCompactList}\small\item\em Parent node of the entire game state. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_context}{Context}}
\begin{DoxyCompactList}\small\item\em The plugin context is a persistent state representing the entire application to the game plugin across reloads. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_plugin}{Plugin}}
\begin{DoxyCompactList}\small\item\em The game plugin packages the game functionality in a form that can be hot-\/reloaded during development. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{struct_host_context}{Host\+Context}} \mbox{\hyperlink{plugin_8h_a84b9d84fdbefe993ea44948bbbb251d6}{Host\+Context}}
\item 
typedef struct \mbox{\hyperlink{struct_game_context}{Game\+Context}} \mbox{\hyperlink{plugin_8h_af1d739a5886b399946180d0fcd08e95f}{Game\+Context}}
\item 
typedef struct \mbox{\hyperlink{struct_context}{Context}} \mbox{\hyperlink{plugin_8h_a7925e3baf84a3c60ae7f4ac180c2fd85}{Context}}
\item 
typedef bool($\ast$ \mbox{\hyperlink{plugin_8h_a796851cef3b291c8dffab192b415f4a3}{Plugin\+Fn}}) (\mbox{\hyperlink{struct_context}{Context}} $\ast$)
\begin{DoxyCompactList}\small\item\em Signature of functions on the plugin\textquotesingle{}s public interface. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{struct_plugin}{Plugin}} \mbox{\hyperlink{plugin_8h_a2fbb5c3326275cd375be335ab6caff18}{Plugin}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{plugin_8h_a6c27e5abd5b35b81490f9d04b03284a4}{lmda\+\_\+plugin\+\_\+init\+\_\+impl}} (\mbox{\hyperlink{struct_context}{Context}} $\ast$ctx)
\item 
bool \mbox{\hyperlink{plugin_8h_ae7def7dde2acb3bdd4763a6f4a251488}{lmda\+\_\+plugin\+\_\+tick\+\_\+impl}} (\mbox{\hyperlink{struct_context}{Context}} $\ast$ctx)
\item 
bool \mbox{\hyperlink{plugin_8h_ab1b369bb6bf5d070d2aa9b61339839a0}{lmda\+\_\+plugin\+\_\+suspend\+\_\+impl}} (\mbox{\hyperlink{struct_context}{Context}} $\ast$ctx)
\item 
bool \mbox{\hyperlink{plugin_8h_ab9ba0a7cd6b5b735894563689b34d40d}{lmda\+\_\+plugin\+\_\+resume\+\_\+impl}} (\mbox{\hyperlink{struct_context}{Context}} $\ast$ctx)
\item 
bool \mbox{\hyperlink{plugin_8h_a64bafab751639f2cdb24c69ffacd74d9}{lmda\+\_\+plugin\+\_\+destroy\+\_\+impl}} (\mbox{\hyperlink{struct_context}{Context}} $\ast$ctx)
\item 
void \mbox{\hyperlink{plugin_8h_a23b0c39d42bce02835a3869fa71b0e3b}{lm\+\_\+plugin\+\_\+init}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$, \mbox{\hyperlink{struct_context}{Context}} $\ast$, char const $\ast$path)
\item 
bool \mbox{\hyperlink{plugin_8h_acb6820341c1145587b922e19e4b96b20}{lm\+\_\+plugin\+\_\+ensure\+\_\+ready}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$, \mbox{\hyperlink{struct_context}{Context}} $\ast$)
\begin{DoxyCompactList}\small\item\em Attempt to load a plugin by the given name from the library at the given path. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{plugin_8h_a39556278a9c2132708d6f36911b58623}{lm\+\_\+plugin\+\_\+unload}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$)
\begin{DoxyCompactList}\small\item\em Attempt to unload the given plugin\textquotesingle{}s code libary. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{plugin_8h_af2bf8fa570687fa4d2118e53cd273dd3}{lm\+\_\+plugin\+\_\+destroy}} (\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$plugin)
\begin{DoxyCompactList}\small\item\em Destroy the plugin\textquotesingle{}s state and unload it for the last time. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{plugin_8h_abc12e9c805e745fc190cbd5e3cea5851}{lm\+\_\+plugin\+\_\+bind}} (void $\ast$$\ast$fn, \mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$, char const $\ast$name)
\begin{DoxyCompactList}\small\item\em Attempt to bind the given function to one in the given plugin that goes by by the given name. \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{plugin_8h_a6216ed29f28e0a867448c0c574ebe669}{lm\+\_\+plugin\+\_\+lib\+\_\+load}} (char const $\ast$path)
\begin{DoxyCompactList}\small\item\em Platform interface used by {\ttfamily lm\+\_\+plugin\+\_\+ensure\+\_\+loaded} \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{plugin_8h_aa3890010b9e1e64328c4f095d4d5d14f}{lm\+\_\+plugin\+\_\+lib\+\_\+bind}} (void $\ast$lib, char const $\ast$name)
\begin{DoxyCompactList}\small\item\em Platform interface used by {\ttfamily lm\+\_\+plugin\+\_\+bind} \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{plugin_8h_a616a650e8ac80103fe3be5b32f50285b}{lm\+\_\+plugin\+\_\+lib\+\_\+unload}} (void $\ast$lib)
\begin{DoxyCompactList}\small\item\em Platform interface used by {\ttfamily lm\+\_\+plugin\+\_\+unload} \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Declares the interface to the game library; implementing that interface defines a game plugin. 

\begin{DoxyAuthor}{Author}
Matt Murphy (\href{mailto:matt@murphysys.com}{\texttt{ matt@murphysys.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2022-\/06-\/06
\end{DoxyDate}
Copyright (c) 2022 Murphy Engineering LLC 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{plugin_8h_a7925e3baf84a3c60ae7f4ac180c2fd85}\label{plugin_8h_a7925e3baf84a3c60ae7f4ac180c2fd85}} 
\index{plugin.h@{plugin.h}!Context@{Context}}
\index{Context@{Context}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{Context}{Context}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_context}{Context}} \mbox{\hyperlink{struct_context}{Context}}}

\mbox{\Hypertarget{plugin_8h_af1d739a5886b399946180d0fcd08e95f}\label{plugin_8h_af1d739a5886b399946180d0fcd08e95f}} 
\index{plugin.h@{plugin.h}!GameContext@{GameContext}}
\index{GameContext@{GameContext}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{GameContext}{GameContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_game_context}{Game\+Context}} \mbox{\hyperlink{struct_game_context}{Game\+Context}}}

\mbox{\Hypertarget{plugin_8h_a84b9d84fdbefe993ea44948bbbb251d6}\label{plugin_8h_a84b9d84fdbefe993ea44948bbbb251d6}} 
\index{plugin.h@{plugin.h}!HostContext@{HostContext}}
\index{HostContext@{HostContext}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{HostContext}{HostContext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_host_context}{Host\+Context}} \mbox{\hyperlink{struct_host_context}{Host\+Context}}}

\mbox{\Hypertarget{plugin_8h_a2fbb5c3326275cd375be335ab6caff18}\label{plugin_8h_a2fbb5c3326275cd375be335ab6caff18}} 
\index{plugin.h@{plugin.h}!Plugin@{Plugin}}
\index{Plugin@{Plugin}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{Plugin}{Plugin}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{struct_plugin}{Plugin}} \mbox{\hyperlink{struct_plugin}{Plugin}}}

\mbox{\Hypertarget{plugin_8h_a796851cef3b291c8dffab192b415f4a3}\label{plugin_8h_a796851cef3b291c8dffab192b415f4a3}} 
\index{plugin.h@{plugin.h}!PluginFn@{PluginFn}}
\index{PluginFn@{PluginFn}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{PluginFn}{PluginFn}}
{\footnotesize\ttfamily typedef bool($\ast$ Plugin\+Fn) (\mbox{\hyperlink{struct_context}{Context}} $\ast$)}



Signature of functions on the plugin\textquotesingle{}s public interface. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{plugin_8h_abc12e9c805e745fc190cbd5e3cea5851}\label{plugin_8h_abc12e9c805e745fc190cbd5e3cea5851}} 
\index{plugin.h@{plugin.h}!lm\_plugin\_bind@{lm\_plugin\_bind}}
\index{lm\_plugin\_bind@{lm\_plugin\_bind}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_bind()}{lm\_plugin\_bind()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+bind (\begin{DoxyParamCaption}\item[{void $\ast$$\ast$}]{fn,  }\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin,  }\item[{char const $\ast$}]{name }\end{DoxyParamCaption})}



Attempt to bind the given function to one in the given plugin that goes by by the given name. 

If the result is {\ttfamily true}, then calling the given function will execute the bound function in the plugin library. \mbox{\Hypertarget{plugin_8h_af2bf8fa570687fa4d2118e53cd273dd3}\label{plugin_8h_af2bf8fa570687fa4d2118e53cd273dd3}} 
\index{plugin.h@{plugin.h}!lm\_plugin\_destroy@{lm\_plugin\_destroy}}
\index{lm\_plugin\_destroy@{lm\_plugin\_destroy}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_destroy()}{lm\_plugin\_destroy()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin }\end{DoxyParamCaption})}



Destroy the plugin\textquotesingle{}s state and unload it for the last time. 

\mbox{\Hypertarget{plugin_8h_acb6820341c1145587b922e19e4b96b20}\label{plugin_8h_acb6820341c1145587b922e19e4b96b20}} 
\index{plugin.h@{plugin.h}!lm\_plugin\_ensure\_ready@{lm\_plugin\_ensure\_ready}}
\index{lm\_plugin\_ensure\_ready@{lm\_plugin\_ensure\_ready}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_ensure\_ready()}{lm\_plugin\_ensure\_ready()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+ensure\+\_\+ready (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin,  }\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}



Attempt to load a plugin by the given name from the library at the given path. 

If the plugin is loaded successfully then its {\ttfamily initialized} flag will be set. \mbox{\Hypertarget{plugin_8h_a23b0c39d42bce02835a3869fa71b0e3b}\label{plugin_8h_a23b0c39d42bce02835a3869fa71b0e3b}} 
\index{plugin.h@{plugin.h}!lm\_plugin\_init@{lm\_plugin\_init}}
\index{lm\_plugin\_init@{lm\_plugin\_init}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_init()}{lm\_plugin\_init()}}
{\footnotesize\ttfamily void lm\+\_\+plugin\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin,  }\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx,  }\item[{char const $\ast$}]{path }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8h_aa3890010b9e1e64328c4f095d4d5d14f}\label{plugin_8h_aa3890010b9e1e64328c4f095d4d5d14f}} 
\index{plugin.h@{plugin.h}!lm\_plugin\_lib\_bind@{lm\_plugin\_lib\_bind}}
\index{lm\_plugin\_lib\_bind@{lm\_plugin\_lib\_bind}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_lib\_bind()}{lm\_plugin\_lib\_bind()}}
{\footnotesize\ttfamily void $\ast$ lm\+\_\+plugin\+\_\+lib\+\_\+bind (\begin{DoxyParamCaption}\item[{void $\ast$}]{lib,  }\item[{char const $\ast$}]{name }\end{DoxyParamCaption})}



Platform interface used by {\ttfamily lm\+\_\+plugin\+\_\+bind} 

\mbox{\Hypertarget{plugin_8h_a6216ed29f28e0a867448c0c574ebe669}\label{plugin_8h_a6216ed29f28e0a867448c0c574ebe669}} 
\index{plugin.h@{plugin.h}!lm\_plugin\_lib\_load@{lm\_plugin\_lib\_load}}
\index{lm\_plugin\_lib\_load@{lm\_plugin\_lib\_load}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_lib\_load()}{lm\_plugin\_lib\_load()}}
{\footnotesize\ttfamily void $\ast$ lm\+\_\+plugin\+\_\+lib\+\_\+load (\begin{DoxyParamCaption}\item[{char const $\ast$}]{path }\end{DoxyParamCaption})}



Platform interface used by {\ttfamily lm\+\_\+plugin\+\_\+ensure\+\_\+loaded} 

\mbox{\Hypertarget{plugin_8h_a616a650e8ac80103fe3be5b32f50285b}\label{plugin_8h_a616a650e8ac80103fe3be5b32f50285b}} 
\index{plugin.h@{plugin.h}!lm\_plugin\_lib\_unload@{lm\_plugin\_lib\_unload}}
\index{lm\_plugin\_lib\_unload@{lm\_plugin\_lib\_unload}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_lib\_unload()}{lm\_plugin\_lib\_unload()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+lib\+\_\+unload (\begin{DoxyParamCaption}\item[{void $\ast$}]{lib }\end{DoxyParamCaption})}



Platform interface used by {\ttfamily lm\+\_\+plugin\+\_\+unload} 

\mbox{\Hypertarget{plugin_8h_a39556278a9c2132708d6f36911b58623}\label{plugin_8h_a39556278a9c2132708d6f36911b58623}} 
\index{plugin.h@{plugin.h}!lm\_plugin\_unload@{lm\_plugin\_unload}}
\index{lm\_plugin\_unload@{lm\_plugin\_unload}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lm\_plugin\_unload()}{lm\_plugin\_unload()}}
{\footnotesize\ttfamily bool lm\+\_\+plugin\+\_\+unload (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_plugin}{Plugin}} $\ast$}]{plugin }\end{DoxyParamCaption})}



Attempt to unload the given plugin\textquotesingle{}s code libary. 

The plugin is considered unloaded regardless of whether its memory is successfully freed. The plugin state is not affected. \mbox{\Hypertarget{plugin_8h_a64bafab751639f2cdb24c69ffacd74d9}\label{plugin_8h_a64bafab751639f2cdb24c69ffacd74d9}} 
\index{plugin.h@{plugin.h}!lmda\_plugin\_destroy\_impl@{lmda\_plugin\_destroy\_impl}}
\index{lmda\_plugin\_destroy\_impl@{lmda\_plugin\_destroy\_impl}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lmda\_plugin\_destroy\_impl()}{lmda\_plugin\_destroy\_impl()}}
{\footnotesize\ttfamily bool lmda\+\_\+plugin\+\_\+destroy\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8h_a6c27e5abd5b35b81490f9d04b03284a4}\label{plugin_8h_a6c27e5abd5b35b81490f9d04b03284a4}} 
\index{plugin.h@{plugin.h}!lmda\_plugin\_init\_impl@{lmda\_plugin\_init\_impl}}
\index{lmda\_plugin\_init\_impl@{lmda\_plugin\_init\_impl}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lmda\_plugin\_init\_impl()}{lmda\_plugin\_init\_impl()}}
{\footnotesize\ttfamily bool lmda\+\_\+plugin\+\_\+init\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8h_ab9ba0a7cd6b5b735894563689b34d40d}\label{plugin_8h_ab9ba0a7cd6b5b735894563689b34d40d}} 
\index{plugin.h@{plugin.h}!lmda\_plugin\_resume\_impl@{lmda\_plugin\_resume\_impl}}
\index{lmda\_plugin\_resume\_impl@{lmda\_plugin\_resume\_impl}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lmda\_plugin\_resume\_impl()}{lmda\_plugin\_resume\_impl()}}
{\footnotesize\ttfamily bool lmda\+\_\+plugin\+\_\+resume\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8h_ab1b369bb6bf5d070d2aa9b61339839a0}\label{plugin_8h_ab1b369bb6bf5d070d2aa9b61339839a0}} 
\index{plugin.h@{plugin.h}!lmda\_plugin\_suspend\_impl@{lmda\_plugin\_suspend\_impl}}
\index{lmda\_plugin\_suspend\_impl@{lmda\_plugin\_suspend\_impl}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lmda\_plugin\_suspend\_impl()}{lmda\_plugin\_suspend\_impl()}}
{\footnotesize\ttfamily bool lmda\+\_\+plugin\+\_\+suspend\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}

\mbox{\Hypertarget{plugin_8h_ae7def7dde2acb3bdd4763a6f4a251488}\label{plugin_8h_ae7def7dde2acb3bdd4763a6f4a251488}} 
\index{plugin.h@{plugin.h}!lmda\_plugin\_tick\_impl@{lmda\_plugin\_tick\_impl}}
\index{lmda\_plugin\_tick\_impl@{lmda\_plugin\_tick\_impl}!plugin.h@{plugin.h}}
\doxysubsubsection{\texorpdfstring{lmda\_plugin\_tick\_impl()}{lmda\_plugin\_tick\_impl()}}
{\footnotesize\ttfamily bool lmda\+\_\+plugin\+\_\+tick\+\_\+impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_context}{Context}} $\ast$}]{ctx }\end{DoxyParamCaption})}

